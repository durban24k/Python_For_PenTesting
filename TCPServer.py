#!/usr/bin/python3
import socket
import requests

serversocket=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
host=socket.gethostname()
public_ip=requests.get("https://api.ipify.org").text
ip=socket.gethostbyname(host)
port=4444

serversocket.bind(public_ip,port)
serversocket.listen(5)

while True:
     clientsocket,address=serversocket.accept()
     print(f'Received connection from {str(address)}')

     message='Thank you for connecing to the server'+' \r\n'
     clientsocket.send(message.encode('ascii'))

     clientsocket.close()